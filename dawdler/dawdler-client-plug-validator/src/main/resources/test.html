<html>

<head>

    <script language="script" src="dawdler-validator.js"></script>
</head>

<body>

    <form id="myform" action="create.do" method="POST">
        <input type="text" name="username" value="" /><br/>
        <input type="text" name="password" /> <span id="password_pw_error"></span><br/>
        <input type="button" id="submit" value="事件提交" /><br/>
        <input type="submit" id="submit_onw" value="表单提交" /><br/>
    </form>
    <div id="password_error"></div>
</body>


<script>
    debug = true;

    function global_validate_error_function(obj, error) {
        alert("validate_error:" + obj + ":" + error);
    }

    function password_pw_error_function(obj, error) {
        alert("password_pw_error_function:" + obj + ":" + error);
    }


    var globalAlertFunction = global_validate_error_function;
    let globalErrorDivPrefix = "_error";
    sir_validate.addRule({
        "id": "username",
        "viewName": "用户名",
        "validateRule": "notEmpty"
    });

    // var result = sir_validate.validateAll();



    var sir_validate1 = new Validator();
    sir_validate1.addRule({
        "id": "password",
        "viewName": "密码",
        "validateRule": "notEmpty",
        // "alertFunction": "password_pw_error"
        "alertFunction": password_pw_error_function
    });

    // var result1 = sir_validate1.validateAll();
    document.getElementById("submit").onclick = function() {
        sir_validate1.validateAll();
    };

    sir_validate1.buildFormValidate("myform");
</script>

</html>